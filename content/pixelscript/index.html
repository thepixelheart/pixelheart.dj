<!DOCTYPE html>

<html>
<head>
  <title>Writing Pixel Scripts</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap for-h1">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h1>Writing Pixel Scripts</h1>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Writing Pixel Scripts is an easy way to have your imagination displayed on a giant 12 foot by 8 foot
LED wall the next time you&#39;re near the Pixel Heart ^_^</p>
<blockquote>
<p>In order to test your scripts you&#39;ll want to set up the Pixel Pusher by following our <a href="gettingstarted/">Getting Started guide</a>.</p>
</blockquote>
<p>Pixel Scripts require some knowledge of programming but we&#39;ll walk you through the basics.</p>
<h2>Finding the Scripts Folder</h2>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>To start, let&#39;s open the User Scripts folder in the Pixel Pusher. To get there open the Prefs page
and select Folders in the prefs list. Click the &quot;Open in Finder&quot; button next to
&quot;User Scripts Folder&quot;.</p>
<p><img src="gfx/userscripts.png" alt="User Scripts" title="User Scripts"></p>
<p>This is the folder where all of your custom scripts will go. When you add new scripts they&#39;ll
automatically be loaded by the Pixel Pusher and added to the animation list. Any time you save a
script the Pixel Pusher will automatically reload it for you, letting you change your animations in
real time!</p>
<h2>Modifying a Script</h2>

            </div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Let&#39;s start by modifying one of the sample scripts that come with the Pixel Pusher. Open
<code>square.pixelscript</code> in any source code editor.</p>
<blockquote>
<p>While you&#39;re editing a script it can be helpful to see the results. Find the square.pixelscript animation in the animation list and select it so that you can see the four squares animating to the music.</p>
</blockquote>
<p>We&#39;re going to start from scratch and rebuild this example, so delete everything in this file and
then hit save. Your animation should now be a black box.</p>
<p><img src="gfx/emptybox.png" alt="Empty Animation" title="Empty Animation"></p>
<h2>Drawing a Box</h2>

            </div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Before we can draw a box we need to change the current painting color. By default it&#39;s black, let&#39;s
change it to red.</p>
<blockquote>
<p>There are two painting colors that can be set that will affect all subsequent drawing: fill and stroke. To set one or the other you may use the methods <code>setFill</code> or <code>setStroke</code>, respectively. If you would like to set both then you can call <code>set</code> as we do in this example.</p>
</blockquote>

            </div>
            
            <div class="content"><div class='highlight'><pre>NSColor redColor set.</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Now that we&#39;ve set a painting color we can draw a rectangle on the screen. We use the <code>renderer</code>
object to do things like draw rectangles and circles to the screen. In this case we&#39;re filling a
rectangle that&#39;s 20 pixels wide by 10 pixels tall.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>(renderer fillRect:(<span class="number">0</span>&lt;&gt;<span class="number">0</span> extent:<span class="number">20</span>&lt;&gt;<span class="number">10</span>)).</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Here&#39;s what each of the numbers in the previous line of code mean.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>(renderer fillRect:(x&lt;&gt;y extent:width&lt;&gt;height)).</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>At this point your animation should look like this:</p>
<p><img src="gfx/redbox.png" alt="Red Box" title="Red Box"></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>NSColor redColor set.
(renderer fillRect:(<span class="number">0</span>&lt;&gt;<span class="number">0</span> extent:<span class="number">20</span>&lt;&gt;<span class="number">10</span>)).</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap for-h2">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <h2>Degraders</h2>

            </div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Reacting to music is as simple as one of the provided degrader objects. A degrader works like those
little bars on old amplifier displays that get pushed up and then slowly fall back down.</p>
<p>In our case we have four degraders: one each for bass, hi hats, vocals, and snares. The value of
these degraders is a floating point number from 0...1 that represents the amplitude of the
respective instrument. The degraders&#39; values fall back to zero at a velocity of one unit per second.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>bassDegrader value
hihatDegrader value
vocalDegrader value
snareDegrader value</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>For example, if the bass hits then the bass degrader value will be 1 and then fall back to 0 over
the course of one second.</p>
<h2>Making our Box Bounce</h2>

            </div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>To make our box bounce it&#39;s a simple matter of using one of the degraders to modify the y position
of the box.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>(renderer fillRect:(<span class="number">0</span>&lt;&gt;(bassDegrader value * <span class="number">20</span>) extent:<span class="number">20</span>&lt;&gt;<span class="number">10</span>)).</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p><img src="gfx/bouncingbox.gif" alt="Bouncing Box" title="Bouncing Box"></p>

            </div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
